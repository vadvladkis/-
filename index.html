<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Исторический Портал</title>
    <link rel="shortcut icon" href="images/favicon.png" type="image/png">
    <script src="js/all.js"></script>
    <script src="js/startdata.js"></script>
</head>    
    
<body style="margin: 0px; padding: 0px;">
        
    
    <table id="tab" style="min-height: calc(100vh); height:100%; width: 100%;">
        <tr>
            <td style="width:220px;" >
                <div style="height: 100%; width: 100%;">
                    <div style="width: 100%;">
                        <label>
                            Начало периода<input id="iBeginDate" type="datetime-local" style="width: calc(100% - 6px)">
                        </label>
                        <label>
                            Конец периода<input id="iEndDate" type="datetime-local" style="width: calc(100% - 6px)">
                        </label>
                        <button id="btnFiltr" style="width: 100%">Применить фильтр</button>
                    </div>
                    <div style="height: 8px; width: 100%; background-color: #550D11">
                        
                    </div>
                    <div style="width: 100%; height: calc(100% - 114px);overflow: hidden; background-color: #F6FAC2">
                        <button id="btnAdd">Создать</button><button id="btnEdit">Изменить</button><button id="btnDel">Удалить</button>
                        
                        <label>
                            Название события <a id="wikipedia" href="https://ru.wikipedia.org/wiki/" target="_blank"><img src="images/wiki.png" width="32" height="32" alt="Википедия" title="Википедия"></a>
                            <input id="iName" type="text" style="width: calc(100% - 8px)">
                        </label>
                        <label>
                            Описание события
                            <textarea id="iDiscription" style="height: calc(100% - 104px); width: calc(100% - 6px); resize: none;"></textarea>
                        </label>
                    </div>
                    
                    
                </div>
            </td>
            <td>
                <div id="rDiv" style="position: relative; height: 100%; width: 100%; overflow: auto; text-align: center;">
					
					<img id="hist" src="images/fon.jpg" style="vertical-align: middle; width: 100%;height: 100%; opacity: 0.6;">
					<canvas id="cEvents" style="position: absolute;  left:0; top:0; width: 100%;" ></canvas>               
					
                </div> 
            </td>
        </tr>
    </table>
    
</body>
<script>
	//var ctx = cEvents.getContext('2d');
	//ctx.drawImage(hist, 100, 100);
	
    btnFiltr.addEventListener("click", btnFiltrHistoryHndl)
    btnAdd.addEventListener("click", btnAddHistoryHndl)
    btnEdit.addEventListener("click", btnEditHistoryHndl)
    btnDel.addEventListener("click", btnDelHistoryHndl)        
    cEvents.addEventListener("click", cEventsClick)
    window.addEventListener("resize", onResizeWnd)
    function onResizeWnd(e){
        refreshEvents()
    }
</script>
</html>
